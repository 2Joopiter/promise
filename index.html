<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>

  <script>
    function test(delay, callback) {
      setTimeout(() => {
        callback();
      }, delay)
    }

    // 수행할 미션: -start, 2초 뒤에 test1 콘솔, 다시 2초뒤에 test2, 다음 end

    // 순서1 : start 출력 (callstack)
    console.log('start');

    // 순서2 : 첫번째 test함수 호출 (callstack)
    // 순서3 : setTimeout을 web api에 전달 (callstack)


    test(2000, () => {
      // 순서4 : setTimeout 호출하고 그 안쪽에 구문을 다시 callstack에 전달(web api)
      // 순서5 : web api로부터 setTimeout 안쪽의 callback 함수를 전달받고 호출 (callstack)
      console.log('test1');

      // 순서6 : 다시 두번째 test함수 호출하고 안쪽의 setTimeout을 다시 web api에 전달 (callstack)
      // 순서7 : setTimeout을 수행하고 아래쪽의 callback으로 전달된 구문을 다시 callstack에 전달 (web api)
      // 순서8 : 아래 구문을 실행하고 종료
      test(2000, () => {
        console.log('test2');
        console.log('end');
      })
    })



    // 뒤에 실행될 개별의 함수가 없게끔 하나의 callback 함수로 묶어버리면 됨 (기다리는 함수가 없게끔)



  </script>

</body>

</html>